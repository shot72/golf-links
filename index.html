<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>弾道＆番手メモ（フル機能版）</title>
  <style>
    body {
      margin: 0;
      background: #0f172a;
      color: #e5e7eb;
      font-family: system-ui,-apple-system,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
      font-size: 1.1rem;
      line-height: 1.5;
    }
    header {
      background: #111827;
      padding: 12px 16px;
      border-bottom: 1px solid #1f2937;
    }
    header h1 {
      margin: 0;
      font-size: 1.375rem; /* ≒22px */
    }
    main {
      padding: 16px;
      max-width: 800px;
      margin: 0 auto;
    }
    .card {
      background: #111827;
      border: 1px solid #1f2937;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 4px;
      font-size: 0.95rem;
      color: #9ca3af;
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 8px;
      border: 1px solid #334155;
      background: #0b1220;
      color: #e5e7eb;
      font-size: 1.1875rem; /* ≒19px */
    }
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    button {
      cursor: pointer;
      font-weight: 600;
    }
    .primary {
      background: #22c55e;
      color: #07210f;
      border: 0;
    }
    .ghost {
      background: #0b1220;
      border: 1px dashed #334155;
      color: #9ca3af;
    }
    .toolbar {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }
    th, td {
      border-bottom: 1px solid #223047;
      padding: 6px;
      text-align: left;
    }
    th { color:#cbd5e1; }
  </style>
</head>
<body>
<header>
  <h1>弾道＆番手メモ</h1>
</header>
<main>
  <section class="card" id="form-card">
    <label for="date">日付</label>
    <input type="date" id="date">

    <label for="club">番手</label>
    <select id="club"></select>

    <label for="height">高さ</label>
    <select id="height">
      <option value="高">高</option>
      <option value="中" selected>中</option>
      <option value="低">低</option>
    </select>

    <label for="start">打ち出し方向</label>
    <select id="start">
      <option value="左">左</option>
      <option value="センター" selected>センター</option>
      <option value="右">右</option>
    </select>

    <label for="curve">曲がり</label>
    <select id="curve">
      <option value="ストレート" selected>ストレート</option>
      <option value="ドロー">ドロー</option>
      <option value="フェード">フェード</option>
      <option value="フック">フック</option>
      <option value="スライス">スライス</option>
    </select>

    <label for="strike">打点</label>
    <select id="strike">
      <option value="センター" selected>センター</option>
      <option value="薄い(トップ)">薄い(トップ)</option>
      <option value="ダフリ">ダフリ</option>
      <option value="トゥ">トゥ</option>
      <option value="ヒール">ヒール</option>
    </select>

    <label for="carry">キャリー(任意・yd)</label>
    <input type="number" inputmode="decimal" id="carry" placeholder="例: 155">

    <label for="quality">出来（主観）</label>
    <select id="quality">
      <option value="◎">◎</option>
      <option value="○" selected>○</option>
      <option value="△">△</option>
      <option value="×">×</option>
    </select>

    <label for="note">メモ</label>
    <textarea id="note" placeholder="風、ライ、狙い、反省点など"></textarea>

    <div class="toolbar">
      <button class="primary" id="add">記録する</button>
      <button class="ghost" id="clearForm">入力クリア</button>
    </div>
  </section>

  <section class="card">
    <h2 style="font-size:1rem;margin-top:0">最近の記録</h2>
    <table id="logTable">
      <thead>
        <tr>
          <th>日付</th><th>番手</th><th>高さ</th><th>打ち出し</th><th>曲がり</th>
          <th>打点</th><th>出来</th><th>キャリー</th><th>メモ</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>

<script>
const CLUBS = ["DR(1W)","3W","5W","7W","3U","4U","5U",
               "3I","4I","5I","6I","7I","8I","9I","PW","AW","SW","LW"];

const els = {
  date: document.getElementById('date'),
  club: document.getElementById('club'),
  height: document.getElementById('height'),
  start: document.getElementById('start'),
  curve: document.getElementById('curve'),
  strike: document.getElementById('strike'),
  carry: document.getElementById('carry'),
  quality: document.getElementById('quality'),
  note: document.getElementById('note'),
  add: document.getElementById('add'),
  clear: document.getElementById('clearForm'),
  tableBody: document.querySelector('#logTable tbody')
};

function today(){
  const d = new Date();
  const tz = d.getTimezoneOffset();
  return new Date(d.getTime()-tz*60000).toISOString().slice(0,10);
}

function initClubOptions(){
  els.club.innerHTML = "";
  CLUBS.forEach(name=>{
    const opt = document.createElement('option');
    opt.value = name;
    opt.textContent = name;
    els.club.appendChild(opt);
  });
  els.club.value = "7I";
}

function clearForm(){
  els.date.value = today();
  els.club.value = "7I";
  els.height.value = "中";
  els.start.value = "センター";
  els.curve.value = "ストレート";
  els.strike.value = "センター";
  els.carry.value = "";
  els.quality.value = "○";
  els.note.value = "";
}

function addRecord(){
  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td>${els.date.value}</td>
    <td>${els.club.value}</td>
    <td>${els.height.value}</td>
    <td>${els.start.value}</td>
    <td>${els.curve.value}</td>
    <td>${els.strike.value}</td>
    <td>${els.quality.value}</td>
    <td>${els.carry.value}</td>
    <td>${els.note.value.replace(/</g,"&lt;")}</td>
  `;
  els.tableBody.prepend(tr);
  clearForm();
}

initClubOptions();
clearForm();

els.clear.addEventListener('click', clearForm);
els.add.addEventListener('click', addRecord);
</script>
</body>
</html>
